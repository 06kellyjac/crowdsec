# nfpm example config file
name: "crowdsec"
arch: "amd64"
platform: "linux"
version: "v0.2.0"
section: "default"
priority: "extra"
#replaces:
#- foobar
#provides:
#- bar
#depends:
#- foo
#- bar
# recommends on rpm packages requires rpmbuild >= 4.13
#recommends:
#- whatever
# suggests on rpm packages requires rpmbuild >= 4.13
#suggests:
#- something-else
#conflicts:
#- not-foo
#- not-bar
maintainer: "Crowdsec <crowdsec@crowdsec.net>"
description: |
  Crowdsec - An open source, lightweight agent 
  to detect and respond to bad behaviors
vendor: "CrowdSec"
homepage: "https://www.github.com/crowdsecurity/crowdsec"
license: "MIT"
files:
  ./cmd/crowdsec-cli/cscli: "/usr/local/bin/cscli"
  ./cmd/crowdsec/crowdsec: "/usr/local/bin/crowdsec"
  ./wizard.sh: "/usr/local/bin/cswizard"
  ./config/api.yaml: "/etc/crowdsec/config/api.yaml"
  ./config/crowdsec_pull: "/etc/cron.d/crowdsec_pull"
  ./config/crowdsec.service: "/etc/systemd/system/crowdsec.service"
  ./config/config.yaml: "/etc/crowdsec/config/config.yaml"
  ./config/profiles.yaml: "/etc/crowdsec/config/profiles.yaml"
  ./config/user.yaml: "/etc/crowdsec/config/user.yaml"
  ./config/patterns/* : "/etc/crowdsec/config/patterns/"
  ./plugins/backend/*.so: "/usr/local/lib/crowdsec/plugins/backend"
  ./config/plugins/backend/*.yaml: "/etc/crowdsec/plugins/backend"

empty_folders:
  - /etc/crowdsec/config/cscli
  - /var/lib/crowdsec/data/
overrides:
#  rpm:
#    scripts:
#      preinstall: ./scripts/preinstall.sh
#      postremove: ./scripts/postremove.sh
  deb:
    scripts:
      postinstall: ./scripts/post_install_deb.sh
